{"version":3,"file":"js/549.773df8e7.js","mappings":"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","sources":["webpack://frontend/./src/components/Step5_DocumentsUpload.vue","webpack://frontend/./src/components/Step5_DocumentsUpload.vue?9ae8"],"sourcesContent":["<template>\r\n    <div class=\"container mt-5\">\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <h3>Step 5: Project Documents</h3>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <div class=\"upload-area p-5 text-center\"\r\n                     @dragover.prevent=\"onDragOver\"\r\n                     @dragleave.prevent=\"onDragLeave\"\r\n                     @drop.prevent=\"onDrop\">\r\n                    <input type=\"file\"\r\n                           ref=\"fileInput\"\r\n                           @change=\"handleFileSelect\"\r\n                           class=\"d-none\"/>\r\n\r\n                    <div v-if=\"!selectedFile\">\r\n                        <p class=\"lead mb-3\">Drag a file here or choose manually.</p>\r\n                        <button @click=\"openFileDialog\" class=\"btn btn-primary px-4\">\r\n                            <i class=\"bi bi-folder2-open me-2\"></i>Choose File\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div v-else class=\"mt-4\">\r\n                        <h5>Selected File:</h5>\r\n                        <p>{{ selectedFile.name }} ({{ formatFileSize(selectedFile.size) }})</p>\r\n                        <button @click=\"clearSelection\" class=\"btn btn-link\">Clear Selection</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"mt-4\">\r\n                    <button @click=\"uploadFile\" class=\"btn btn-success w-100\" :disabled=\"!selectedFile\">\r\n                        <i class=\"bi bi-upload me-2\"></i>Upload File\r\n                    </button>\r\n                </div>\r\n\r\n                <div class=\"d-flex justify-content-between  mt-4\">\r\n                    <button class=\"btn btn-secondary px-4\" @click=\"prevStep\">\r\n                        Back\r\n                    </button>\r\n                    <button class=\"btn btn-primary px-4\" @click=\"nextStep\">\r\n                        Finish\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n\r\n        data() {\r\n            return {\r\n                selectedFile: null,\r\n                isDragging: false\r\n            };\r\n        },\r\n        methods: {\r\n            openFileDialog() {\r\n                this.$refs.fileInput.click();\r\n            },\r\n\r\n            clearSelection() {\r\n                this.selectedFile = null;\r\n            },\r\n\r\n            handleFileSelect() {\r\n                this.selectedFile = event.target.files[0];\r\n            },\r\n\r\n            onDragOver() {\r\n                this.isDragging = true;\r\n            },\r\n\r\n            onDragLeave() {\r\n                this.isDragging = false;\r\n            },\r\n\r\n            onDrop(event) {\r\n                this.isDragging = false;\r\n                const droppedFile = event.dataTransfer.files[0];\r\n                if (droppedFile) {\r\n                    this.selectedFile = droppedFile;\r\n                }\r\n            },\r\n\r\n            formatFileSize(sizeInBytes) {\r\n                const units = [\"байт\", \"КБ\", \"МБ\"];\r\n                let unitIndex = 0;\r\n                while (sizeInBytes >= 1024 && unitIndex < units.length - 1) {\r\n                    sizeInBytes /= 1024;\r\n                    unitIndex++;\r\n                }\r\n                return `${Math.round(sizeInBytes * 100) / 100} ${units[unitIndex]}`;\r\n            },\r\n\r\n            prevStep() {\r\n                this.$router.push(\"/executers\");\r\n            },\r\n\r\n            async uploadFile() {\r\n                if (!this.selectedFile) {\r\n                    alert('Файл не выбран');\r\n                    return;\r\n                }\r\n\r\n                const formData = new FormData();\r\n                formData.append('projectDocument', this.selectedFile);\r\n\r\n                try {\r\n                    const response = await fetch('/api/upload', {\r\n                        method: 'POST',\r\n                        body: formData\r\n                    });\r\n\r\n                    if (response.ok) {\r\n                        alert('Документ успешно загружен!');\r\n                    } else {\r\n                        alert('Ошибка при загрузке файла');\r\n                    }\r\n                } catch (err) {\r\n                    alert('Что-то пошло не так: ' + err.message);\r\n                }\r\n            }\r\n        }\r\n    };\r\n</script>","import { render } from \"./Step5_DocumentsUpload.vue?vue&type=template&id=544e4304\"\nimport script from \"./Step5_DocumentsUpload.vue?vue&type=script&lang=js\"\nexport * from \"./Step5_DocumentsUpload.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onDragover","_cache","_withModifiers","args","$options","onDragOver","onDragleave","onDragLeave","onDrop","type","ref","onChange","handleFileSelect","$data","selectedFile","_hoisted_5","_toDisplayString","name","formatFileSize","size","onClick","clearSelection","_hoisted_4","openFileDialog","_hoisted_6","uploadFile","disabled","_hoisted_8","prevStep","_ctx","nextStep","data","isDragging","methods","this","$refs","fileInput","click","event","target","files","droppedFile","dataTransfer","sizeInBytes","units","unitIndex","length","Math","round","$router","push","alert","formData","FormData","append","response","fetch","method","body","ok","err","message","__exports__","render"],"sourceRoot":""}